{"ast":null,"code":"import { callTypes } from \"_slices/notificationSlice\";\nimport { startCall } from \"_slices/notificationSlice\";\nimport { catchError } from \"_slices/notificationSlice\";\nimport Swal from \"sweetalert2\";\nimport withReactContent from \"sweetalert2-react-content\";\nimport { notificationDataTable, notificationCategory } from \"_slices/notificationSlice\";\nimport { getAllNotificationDatatable, getAllNotificationCategory, createNotification, createNotificationCategory } from \"_api/notificationApi\";\nimport \"_api/notificationApi\";\nimport { getAllAppointment } from \"_api/appointmentApi\";\nimport { dateFormater } from \"helpers/DateHelpers\";\nconst MySwal = withReactContent(Swal);\n_c = MySwal;\nexport const dataTableNotification = payload => dispatch => {\n  dispatch(startCall({\n    callType: callTypes.list\n  }));\n  return getAllNotificationDatatable(payload).then(response => {\n    const data = response.data.data;\n    dispatch(notificationDataTable({\n      entities: data.entities,\n      totalCount: data.totalCount\n    }));\n  }).catch(err => {\n    err.clientMessage = \"Something went wrong\";\n    MySwal.fire({\n      title: \"Can't show Notification List\",\n      icon: \"error\"\n    });\n    dispatch(catchError({\n      err,\n      callType: callTypes.list\n    }));\n  });\n};\nexport const categoryNotificationAction = () => dispatch => {\n  dispatch(startCall({\n    callType: callTypes.list\n  }));\n  return getAllNotificationCategory().then(response => {\n    const data = response.data.data;\n    dispatch(notificationCategory({\n      entities: data\n    }));\n  }).catch(err => {\n    err.clientMessage = \"Something went wrong\";\n    MySwal.fire({\n      title: \"Can't show Notification Category List\",\n      icon: \"error\"\n    });\n    dispatch(catchError({\n      err,\n      callType: callTypes.list\n    }));\n  });\n};\nexport const createNotificationAction = (patientId, isImportant, categoryId, title, description) => dispatch => {\n  const body = {\n    title: title,\n    description: description,\n    category_id: +categoryId,\n    user_id: +patientId,\n    is_important: isImportant\n  };\n  dispatch(startCall({\n    callType: callTypes.list\n  }));\n  return createNotification(body).then(response => {\n    MySwal.fire({\n      title: \"Success Create Notification\",\n      icon: \"success\"\n    });\n    const data = response.data.data;\n    return data;\n  }).catch(err => {\n    err.clientMessage = \"Something went wrong\";\n    MySwal.fire({\n      title: \"Can't show Notification Category List\",\n      icon: \"error\"\n    });\n  });\n};\nexport const createNotificationCategoryAction = (title, description) => dispatch => {\n  const body = {\n    title: title,\n    description: description\n  };\n  dispatch(startCall({\n    callType: callTypes.list\n  }));\n  return createNotificationCategory(body).then(response => {\n    MySwal.fire({\n      title: \"Success Create Notification Category\",\n      icon: \"success\"\n    });\n    const data = response.data.data;\n    return data;\n  }).catch(err => {\n    err.clientMessage = \"Something went wrong\";\n    MySwal.fire({\n      title: \"Failed Create Notification Category\",\n      icon: \"error\"\n    });\n  });\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"MySwal\");","map":{"version":3,"names":["callTypes","startCall","catchError","Swal","withReactContent","notificationDataTable","notificationCategory","getAllNotificationDatatable","getAllNotificationCategory","createNotification","createNotificationCategory","getAllAppointment","dateFormater","MySwal","dataTableNotification","payload","dispatch","callType","list","then","response","data","entities","totalCount","catch","err","clientMessage","fire","title","icon","categoryNotificationAction","createNotificationAction","patientId","isImportant","categoryId","description","body","category_id","user_id","is_important","createNotificationCategoryAction"],"sources":["D:/project ardhi/getfit-admin/src/layouts/notification/notificationAction.jsx"],"sourcesContent":["import { callTypes } from \"_slices/notificationSlice\";\r\nimport { startCall } from \"_slices/notificationSlice\";\r\nimport { catchError } from \"_slices/notificationSlice\";\r\nimport Swal from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\nimport { notificationDataTable, notificationCategory } from \"_slices/notificationSlice\";\r\nimport {\r\n  getAllNotificationDatatable,\r\n  getAllNotificationCategory,\r\n  createNotification,\r\n  createNotificationCategory,\r\n} from \"_api/notificationApi\";\r\nimport {} from \"_api/notificationApi\";\r\nimport { getAllAppointment } from \"_api/appointmentApi\";\r\nimport { dateFormater } from \"helpers/DateHelpers\";\r\n\r\nconst MySwal = withReactContent(Swal);\r\n\r\nexport const dataTableNotification = (payload) => (dispatch) => {\r\n  dispatch(startCall({ callType: callTypes.list }));\r\n  return getAllNotificationDatatable(payload)\r\n    .then((response) => {\r\n      const data = response.data.data;\r\n      dispatch(notificationDataTable({ entities: data.entities, totalCount: data.totalCount }));\r\n    })\r\n    .catch((err) => {\r\n      err.clientMessage = \"Something went wrong\";\r\n      MySwal.fire({\r\n        title: \"Can't show Notification List\",\r\n        icon: \"error\",\r\n      });\r\n      dispatch(catchError({ err, callType: callTypes.list }));\r\n    });\r\n};\r\n\r\nexport const categoryNotificationAction = () => (dispatch) => {\r\n  dispatch(startCall({ callType: callTypes.list }));\r\n  return getAllNotificationCategory()\r\n    .then((response) => {\r\n      const data = response.data.data;\r\n      dispatch(notificationCategory({ entities: data }));\r\n    })\r\n    .catch((err) => {\r\n      err.clientMessage = \"Something went wrong\";\r\n      MySwal.fire({\r\n        title: \"Can't show Notification Category List\",\r\n        icon: \"error\",\r\n      });\r\n      dispatch(catchError({ err, callType: callTypes.list }));\r\n    });\r\n};\r\n\r\nexport const createNotificationAction =\r\n  (patientId, isImportant, categoryId, title, description) => (dispatch) => {\r\n    const body = {\r\n      title: title,\r\n      description: description,\r\n      category_id: +categoryId,\r\n      user_id: +patientId,\r\n      is_important: isImportant,\r\n    };\r\n    dispatch(startCall({ callType: callTypes.list }));\r\n    return createNotification(body)\r\n      .then((response) => {\r\n        MySwal.fire({\r\n          title: \"Success Create Notification\",\r\n          icon: \"success\",\r\n        });\r\n        const data = response.data.data;\r\n        return data;\r\n      })\r\n      .catch((err) => {\r\n        err.clientMessage = \"Something went wrong\";\r\n        MySwal.fire({\r\n          title: \"Can't show Notification Category List\",\r\n          icon: \"error\",\r\n        });\r\n      });\r\n  };\r\n\r\nexport const createNotificationCategoryAction = (title, description) => (dispatch) => {\r\n  const body = {\r\n    title: title,\r\n    description: description,\r\n  };\r\n  dispatch(startCall({ callType: callTypes.list }));\r\n  return createNotificationCategory(body)\r\n    .then((response) => {\r\n      MySwal.fire({\r\n        title: \"Success Create Notification Category\",\r\n        icon: \"success\",\r\n      });\r\n      const data = response.data.data;\r\n      return data;\r\n    })\r\n    .catch((err) => {\r\n      err.clientMessage = \"Something went wrong\";\r\n      MySwal.fire({\r\n        title: \"Failed Create Notification Category\",\r\n        icon: \"error\",\r\n      });\r\n    });\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}