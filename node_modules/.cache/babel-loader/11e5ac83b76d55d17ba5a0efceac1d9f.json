{"ast":null,"code":"import { callTypes } from \"_slices/medicalRecordSlice\";\nimport { startCall } from \"_slices/medicalRecordSlice\";\nimport { catchError } from \"_slices/medicalRecordSlice\";\nimport Swal from \"sweetalert2\";\nimport withReactContent from \"sweetalert2-react-content\";\nimport { medicalRecordDataTable, medicalRecordDetail } from \"_slices/medicalRecordSlice\";\nimport { getOneMedicalRecord, updateMedicalRecord, getAllMedicalRecordsDatatable, createMedicalRecord } from \"_api/medicalRecordApi\";\nimport { getAllAppointment } from \"_api/appointmentApi\";\nconst MySwal = withReactContent(Swal);\n_c = MySwal;\nexport const dataTableMedicalRecord = payload => dispatch => {\n  dispatch(startCall({\n    callType: callTypes.list\n  }));\n  return getAllMedicalRecordsDatatable(payload).then(response => {\n    const data = response.data.data;\n    dispatch(medicalRecordDataTable({\n      entities: data.entities,\n      totalCount: data.totalCount\n    }));\n  }).catch(err => {\n    err.clientMessage = \"Something went wrong\";\n    MySwal.fire({\n      title: \"Can't show patient\",\n      icon: \"error\"\n    });\n    dispatch(catchError({\n      err,\n      callType: callTypes.list\n    }));\n  });\n}; // export const getAllAppointmentAction = () => (dispatch) => {\n//   return getAllAppointment()\n//     .then((response) => {\n//       return response.data.data;\n//     })\n//     .catch((err) => {\n//       err.clientMessage = \"Something went wrong\";\n//       MySwal.fire({\n//         title: \"Can't show Appointment\",\n//         icon: \"error\",\n//       });\n//       dispatch(catchError({ err, callType: callTypes.list }));\n//     });\n// };\n\nexport const detailMedicalRecord = medicalRecordId => dispatch => {\n  if (!medicalRecordId) {\n    return dispatch(medicalRecordDetail({\n      medicalRecord: undefined\n    }));\n  }\n\n  dispatch(startCall({\n    callType: callTypes.action\n  }));\n  return getOneMedicalRecord(medicalRecordId).then(response => {\n    const data = response.data.data;\n    dispatch(medicalRecordDetail({\n      medicalRecord: data\n    }));\n  }).catch(err => {\n    err.clientMessage = \"Something went wrong\";\n    MySwal.fire({\n      title: \"Can't show detail patient\",\n      icon: \"error\"\n    });\n    dispatch(catchError({\n      err,\n      callType: callTypes.action\n    }));\n  });\n};\nexport const updateMedicalRecordAction = (medicalRecordData, medicalRecordValue) => dispatch => {\n  const body = {\n    appointment_id: medicalRecordData.appointment_id,\n    records: medicalRecordValue,\n    date: medicalRecordData.date,\n    time: medicalRecordData.time,\n    appointment_type: medicalRecordData.appointment_type\n  };\n  dispatch(startCall({\n    callType: callTypes.action\n  }));\n  return updateMedicalRecord(medicalRecordData._id, body).then(response => {\n    const data = response.data.data;\n    MySwal.fire({\n      title: \"Success, Edit\",\n      icon: \"success\"\n    });\n    dispatch(medicalRecordDetail({\n      medicalRecord: data\n    }));\n  }).catch(err => {\n    err.clientMessage = \"Something went wrong\";\n    MySwal.fire({\n      title: \"Can't show detail patient\",\n      icon: \"error\"\n    });\n    dispatch(catchError({\n      err,\n      callType: callTypes.action\n    }));\n  });\n};\nexport const createMedicalRecordAction = (appointmentData, records) => dispatch => {\n  const body = {\n    appointment_id: \"635e2de1ae44c177b45f3fbe\",\n    records: [{\n      key: \"RPS\",\n      value: \"Saya mengalami Neckpain yang cukup mengganggu, terutama pada saat malam hari.\"\n    }],\n    date: \"2022-080-11\",\n    time: \"19.00\",\n    appointment_type: \"home_care\"\n  };\n  return createMedicalRecord(body).then(response => {\n    const data = response.data.data;\n    MySwal.fire({\n      title: \"Success Create Medical Record\",\n      icon: \"success\"\n    });\n  }).catch(err => {\n    err.clientMessage = \"Something went wrong\";\n    MySwal.fire({\n      title: \"Can't show detail patient\",\n      icon: \"error\"\n    });\n    dispatch(catchError({\n      err,\n      callType: callTypes.action\n    }));\n  });\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"MySwal\");","map":{"version":3,"names":["callTypes","startCall","catchError","Swal","withReactContent","medicalRecordDataTable","medicalRecordDetail","getOneMedicalRecord","updateMedicalRecord","getAllMedicalRecordsDatatable","createMedicalRecord","getAllAppointment","MySwal","dataTableMedicalRecord","payload","dispatch","callType","list","then","response","data","entities","totalCount","catch","err","clientMessage","fire","title","icon","detailMedicalRecord","medicalRecordId","medicalRecord","undefined","action","updateMedicalRecordAction","medicalRecordData","medicalRecordValue","body","appointment_id","records","date","time","appointment_type","_id","createMedicalRecordAction","appointmentData","key","value"],"sources":["D:/project ardhi/getfit-admin/src/layouts/medicalRecord/medicalRecordAction.jsx"],"sourcesContent":["import { callTypes } from \"_slices/medicalRecordSlice\";\r\nimport { startCall } from \"_slices/medicalRecordSlice\";\r\nimport { catchError } from \"_slices/medicalRecordSlice\";\r\nimport Swal from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\nimport { medicalRecordDataTable, medicalRecordDetail } from \"_slices/medicalRecordSlice\";\r\nimport {\r\n  getOneMedicalRecord,\r\n  updateMedicalRecord,\r\n  getAllMedicalRecordsDatatable,\r\n  createMedicalRecord,\r\n} from \"_api/medicalRecordApi\";\r\nimport { getAllAppointment } from \"_api/appointmentApi\";\r\n\r\nconst MySwal = withReactContent(Swal);\r\n\r\nexport const dataTableMedicalRecord = (payload) => (dispatch) => {\r\n  dispatch(startCall({ callType: callTypes.list }));\r\n  return getAllMedicalRecordsDatatable(payload)\r\n    .then((response) => {\r\n      const data = response.data.data;\r\n      dispatch(medicalRecordDataTable({ entities: data.entities, totalCount: data.totalCount }));\r\n    })\r\n    .catch((err) => {\r\n      err.clientMessage = \"Something went wrong\";\r\n      MySwal.fire({\r\n        title: \"Can't show patient\",\r\n        icon: \"error\",\r\n      });\r\n      dispatch(catchError({ err, callType: callTypes.list }));\r\n    });\r\n};\r\n\r\n// export const getAllAppointmentAction = () => (dispatch) => {\r\n//   return getAllAppointment()\r\n//     .then((response) => {\r\n//       return response.data.data;\r\n//     })\r\n//     .catch((err) => {\r\n//       err.clientMessage = \"Something went wrong\";\r\n//       MySwal.fire({\r\n//         title: \"Can't show Appointment\",\r\n//         icon: \"error\",\r\n//       });\r\n//       dispatch(catchError({ err, callType: callTypes.list }));\r\n//     });\r\n// };\r\n\r\nexport const detailMedicalRecord = (medicalRecordId) => (dispatch) => {\r\n  if (!medicalRecordId) {\r\n    return dispatch(medicalRecordDetail({ medicalRecord: undefined }));\r\n  }\r\n  dispatch(startCall({ callType: callTypes.action }));\r\n  return getOneMedicalRecord(medicalRecordId)\r\n    .then((response) => {\r\n      const data = response.data.data;\r\n      dispatch(medicalRecordDetail({ medicalRecord: data }));\r\n    })\r\n    .catch((err) => {\r\n      err.clientMessage = \"Something went wrong\";\r\n      MySwal.fire({\r\n        title: \"Can't show detail patient\",\r\n        icon: \"error\",\r\n      });\r\n      dispatch(catchError({ err, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const updateMedicalRecordAction = (medicalRecordData, medicalRecordValue) => (dispatch) => {\r\n  const body = {\r\n    appointment_id: medicalRecordData.appointment_id,\r\n    records: medicalRecordValue,\r\n    date: medicalRecordData.date,\r\n    time: medicalRecordData.time,\r\n    appointment_type: medicalRecordData.appointment_type,\r\n  };\r\n  dispatch(startCall({ callType: callTypes.action }));\r\n  return updateMedicalRecord(medicalRecordData._id, body)\r\n    .then((response) => {\r\n      const data = response.data.data;\r\n      MySwal.fire({\r\n        title: \"Success, Edit\",\r\n        icon: \"success\",\r\n      });\r\n      dispatch(medicalRecordDetail({ medicalRecord: data }));\r\n    })\r\n    .catch((err) => {\r\n      err.clientMessage = \"Something went wrong\";\r\n      MySwal.fire({\r\n        title: \"Can't show detail patient\",\r\n        icon: \"error\",\r\n      });\r\n      dispatch(catchError({ err, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const createMedicalRecordAction = (appointmentData, records) => (dispatch) => {\r\n  const body = {\r\n    appointment_id: \"635e2de1ae44c177b45f3fbe\",\r\n    records: [\r\n      {\r\n        key: \"RPS\",\r\n        value: \"Saya mengalami Neckpain yang cukup mengganggu, terutama pada saat malam hari.\",\r\n      },\r\n    ],\r\n    date: \"2022-080-11\",\r\n    time: \"19.00\",\r\n    appointment_type: \"home_care\",\r\n  };\r\n\r\n  return createMedicalRecord(body)\r\n    .then((response) => {\r\n      const data = response.data.data;\r\n      MySwal.fire({\r\n        title: \"Success Create Medical Record\",\r\n        icon: \"success\",\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      err.clientMessage = \"Something went wrong\";\r\n      MySwal.fire({\r\n        title: \"Can't show detail patient\",\r\n        icon: \"error\",\r\n      });\r\n      dispatch(catchError({ err, callType: callTypes.action }));\r\n    });\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}